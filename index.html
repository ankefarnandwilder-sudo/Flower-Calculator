<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Artikel- & Blumen-Kalkulator</title>

<style>
  :root{
    --bg:#ffffff;
    --text:#222;
    --line:#ddd;
    --btn:#e6e6e6;
    --btn-hover:#dcdcdc;
    --btn-clear:#b5b5b5;      /* ← mittleres Grau statt Rot */
    --btn-clear-hover:#9e9e9e;
  }

  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
    background:var(--bg);
    color:var(--text);
  }

  .wrap{
    max-width:900px;
    margin:24px auto;
    padding:16px;
  }

  h1{
    margin:0 0 12px;
    font-size:1.4rem;
    text-align:center;
  }

  table{
    width:100%;
    border-collapse:collapse;
    margin-bottom:16px;
  }

  th,td{
    border-bottom:1px solid var(--line);
    padding:10px;
    text-align:right;
  }

  th:first-child,
  td:first-child{
    text-align:left;
  }

  input{
    width:100%;
    box-sizing:border-box;
    padding:8px;
    font-size:16px;
    border:1px solid var(--line);
    border-radius:8px;
    text-align:right;
  }

  input[name="name"]{
    text-align:left;
  }

  .buttons{
    display:flex;
    gap:10px;
    flex-wrap:wrap;
    margin-bottom:16px;
  }

  button{
    padding:10px 14px;
    border-radius:10px;
    border:1px solid var(--line);
    background:var(--btn);
    cursor:pointer;
    font-weight:600;
  }

  button:hover{
    background:var(--btn-hover);
  }

  .clear{
    background:var(--btn-clear);
  }

  .clear:hover{
    background:var(--btn-clear-hover);
  }

  .total{
    font-size:1.4rem;
    font-weight:700;
    text-align:center;
    padding:12px;
    border:1px solid var(--line);
    border-radius:12px;
  }

  .row-actions{
    display:flex;
    gap:6px;
  }

  .small-btn{
    padding:6px 10px;
    font-size:14px;
  }
</style>
</head>

<body>
<div class="wrap">
  <h1>Artikel- & Blumen-Kalkulator</h1>

  <table id="table">
    <thead>
      <tr>
        <th>Artikel</th>
        <th>Einzelpreis €</th>
        <th>Menge</th>
        <th>Summe €</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <!-- Start mit vielen leeren Zeilen -->
    </tbody>
  </table>

  <div class="buttons">
    <button onclick="addRow()">Artikel hinzufügen</button>
    <button onclick="saveData()">Speichern</button>
    <button class="clear" onclick="clearAll()">Alles löschen</button>
  </div>

  <div class="total">
    Gesamt: <span id="grandTotal">0,00 €</span>
  </div>
</div>

<script>
const tbody = document.querySelector("#table tbody");
const STORAGE_KEY = "flower_calculator_v1";

function addRow(data={name:"",price:"",qty:""}) {
  const tr = document.createElement("tr");

  tr.innerHTML = `
    <td><input name="name" value="${data.name}"></td>
    <td><input name="price" type="number" step="0.01" value="${data.price}"></td>
    <td><input name="qty" type="number" step="1" value="${data.qty}"></td>
    <td class="sum">0,00</td>
    <td class="row-actions">
      <button class="small-btn" onclick="duplicateRow(this)">⧉</button>
      <button class="small-btn" onclick="deleteRow(this)">✕</button>
    </td>
  `;

  tbody.appendChild(tr);
  tr.querySelectorAll("input").forEach(i=>i.addEventListener("input",update));
  update();
}

function update(){
  let total=0;
  tbody.querySelectorAll("tr").forEach(tr=>{
    const price = parseFloat(tr.querySelector('[name="price"]').value) || 0;
    const qty   = parseFloat(tr.querySelector('[name="qty"]').value) || 0;
    const sum = price * qty;
    tr.querySelector(".sum").textContent = sum.toLocaleString("de-DE",{minimumFractionDigits:2}) ;
    total += sum;
  });
  document.getElementById("grandTotal").textContent =
    total.toLocaleString("de-DE",{minimumFractionDigits:2}) + " €";
}

function deleteRow(btn){
  btn.closest("tr").remove();
  update();
}

function duplicateRow(btn){
  const tr = btn.closest("tr");
  addRow({
    name: tr.querySelector('[name="name"]').value,
    price: tr.querySelector('[name="price"]').value,
    qty: tr.querySelector('[name="qty"]').value
  });
}

function clearAll(){
  if(!confirm("Alle Artikelzeilen löschen?")) return;
  tbody.innerHTML="";
  for(let i=0;i<20;i++) addRow();
  update();
}

function saveData(){
  const data=[];
  tbody.querySelectorAll("tr").forEach(tr=>{
    data.push({
      name: tr.querySelector('[name="name"]').value,
      price: tr.querySelector('[name="price"]').value,
      qty: tr.querySelector('[name="qty"]').value
    });
  });
  localStorage.setItem(STORAGE_KEY,JSON.stringify(data));
  alert("Gespeichert.");
}

function loadData(){
  const raw = localStorage.getItem(STORAGE_KEY);
  if(raw){
    JSON.parse(raw).forEach(d=>addRow(d));
  }else{
    for(let i=0;i<20;i++) addRow();
  }
}

loadData();
</script>
</body>
</html>


    
   
  
      

 

   

 

   
      
     
  
  
   

 

   
      
       
       
    
       
       
       
     

 
     
    
    
